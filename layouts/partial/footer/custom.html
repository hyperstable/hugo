{{ if eq hugo.Environment "production" }}
<script>
// Debug script for GitHub Pages
console.log('Current URL:', window.location.href);
console.log('Base URL:', {{ .Site.BaseURL }});

// Check if Bootstrap loaded
window.addEventListener('DOMContentLoaded', function() {
    if (typeof bootstrap === 'undefined') {
        console.error('Bootstrap not loaded - loading from CDN');
        var script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js';
        script.onload = function() {
            console.log('Bootstrap loaded from fallback CDN');
            // Re-initialize dropdowns
            var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'));
            dropdownElementList.map(function (dropdownToggleEl) {
                return new bootstrap.Dropdown(dropdownToggleEl);
            });
        };
        document.head.appendChild(script);
    } else {
        console.log('Bootstrap loaded successfully, version:', bootstrap.Dropdown.VERSION);
    }
});
</script>
{{ end }}
